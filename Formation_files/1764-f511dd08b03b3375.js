"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1764],{3217:(e,t,n)=>{n.d(t,{u:()=>g});var a=n(54568),s=n(64328),r=n(23812),i=n(79155),l=n(3075),o=n(67453),d=n(2e3),c=n(85524),u=n(7620),m=n(10369),f=n(59666),v=n(22167),h=n(20746);function g(e){let{type:t,onClose:n}=e,i=(0,s.mV)(),o=(0,m.A)(),{mutate:c,isPending:g}=(0,v.xc)({onSuccess:n}),[x,y]=(0,u.useState)(!1),b=(0,h.xI)(t);return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:i?o.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:b}):o.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:b}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:b}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),t===d.v8.GITHUB&&(0,a.jsx)(p,{shouldDeleteOnDisable:x,setShouldDeleteOnDisable:y}),(0,a.jsxs)(l.vW,{children:[(0,a.jsx)(r.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(r.$,{loading:g,onClick:()=>{c({type:t,enabled:!1,should_delete_on_disable:x}),n()},variant:"danger",children:x?(0,a.jsx)(f.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,a.jsx)(f.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function p(e){let{shouldDeleteOnDisable:t,setShouldDeleteOnDisable:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,a.jsx)(i.f,{checkState:t?"checked":"unchecked",onClick:e=>{let{didCheck:t}=e;return n(t)},label:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-200",children:(0,a.jsx)(f.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,a.jsx)(o.Tooltip,{tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,a.jsx)(c.R,{className:"text-text-400"})})]})})}),t&&(0,a.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,a.jsxs)("ul",{className:"text-sm list-disc",children:[(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},5924:(e,t,n)=>{n.d(t,{Qp:()=>u,eF:()=>c,w5:()=>d});var a=n(1613),s=n(64328),r=n(68067),i=n(65315),l=n(4869),o=n(27541);let d=()=>(0,r.fS)("fiddlehead"),c=()=>{let{activeOrganization:e}=(0,s.YL)(),t=null==e?void 0:e.uuid,n=d(),r=(0,i.wc)(),{data:l,isFetched:c}=(0,a.Sk)("/api/oauth/organizations/".concat(t,"/oauth_tokens"),{enabled:!!(t&&n),staleTime:3e5}),u=(0,o.useSearchParams)().get("debug_fiddlehead_auth_override"),m=r[i.me],f=m&&(null==l?void 0:l.some(e=>e.application_name===m));return{isAuthenticated:null!==u?"1"===u:f,isFetched:c,initAuth:()=>{window.open(r[i.vf],"_blank")}}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,r=d(),i=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/fiddlehead/disconnect_and_delete_all"),"POST",{enabled:!!(t&&r),...e,onSuccess:function(){for(var t,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];i.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(n,"/oauth_tokens")]}),null==(t=e.onSuccess)||t.call(e,...s)}})}},7133:(e,t,n)=>{n.d(t,{S:()=>d});var a=n(54568),s=n(23812),r=n(3075),i=n(7620),l=n(59666),o=n(84543);function d(e){var t;let{platform:n,onClose:d,onSubmit:c,loading:u}=e,[m,f]=(0,i.useState)(n.issuer),[v,h]=(0,i.useState)(n.client_id),[g,p]=(0,i.useState)((null==(t=n.deployment_ids)?void 0:t[0])||""),x=!m.trim()||!v.trim()||!g.trim();return(0,a.jsx)(r.aF,{isOpen:!0,onClose:d,modalSize:"xl",title:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(l.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,a.jsx)(l.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x||c(n.id,m.trim().replace(/\/$/,""),v.trim(),g.trim())},className:"flex flex-col",children:[(0,a.jsx)(o.E,{domain:m,setDomain:f,clientId:v,setClientId:h,deploymentId:g,setDeploymentId:p}),(0,a.jsxs)(r.vW,{children:[(0,a.jsx)(s.$,{type:"submit",loading:u,disabled:x,children:(0,a.jsx)(l.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:d,children:(0,a.jsx)(l.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},18050:(e,t,n)=>{n.d(t,{AI:()=>d,I5:()=>c,n0:()=>o,qp:()=>u,so:()=>m});var a=n(1613),s=n(64328),r=n(80688);n(2e3);var i=n(4869);n(7620);var l=n(22167);let o=e=>{let{uri:t}=e,{data:n,isLoading:i}=(e=>{let{documentId:t}=e,{account:n,activeOrganization:i}=(0,s.YL)(),l=null==n?void 0:n.uuid,o=null==i?void 0:i.uuid,c=d();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/mcp/outline/document/").concat(t),{queryKey:[r.hq,{accountUUID:l,orgUuid:o,documentId:t}],enabled:c})})({documentId:t});return{title:null==n?void 0:n.title,isLoading:i}},d=()=>{let{data:e}=(0,l.LN)();return!1},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,s.YL)(),i=null==n?void 0:n.uuid,l=d(),{data:o,refetch:c}=(0,a.Sk)("/api/organizations/".concat(i,"/sync/mcp/outline/auth"),{queryKey:[r.iP,{accountUUID:null==t?void 0:t.uuid,orgUuid:i}],enabled:!!(n&&l),staleTime:5e3}),{mutate:u,isPending:m}=(0,a.L2)("/api/organizations/".concat(i,"/sync/mcp/outline/auth/start"),"POST",{enabled:!!(n&&l),...e,onSuccess:function(){for(var t,n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];null==(t=e.onSuccess)||t.call(e,...a)}});return{isOutlineAuthenticated:!!(null==o?void 0:o.is_authenticated),refetch:c,initOutlineAuth:u,isLoadingOutlineAuthInit:m}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,s.YL)(),l=null==t?void 0:t.uuid,o=null==n?void 0:n.uuid,c=d(),u=(0,i.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(o,"/sync/mcp/outline/auth"),"DELETE",{enabled:!!(n&&c),...e,onSuccess:function(){for(var t,n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];u.invalidateQueries({queryKey:[r.iP,{accountUUID:l,orgUuid:o}]}),null==(t=e.onSuccess)||t.call(e,...a)}})},m=()=>{let e=encodeURIComponent(window.location.href);window.location.href="/settings/connectors?redirect_url=".concat(e,"&open_outline_auth=true")}},22271:(e,t,n)=>{n.d(t,{P:()=>g});var a=n(54568),s=n(64328),r=n(84284),i=n(23812),l=n(87483),o=n(67453),d=n(68067),c=n(17560),u=n(785),m=n(72902),f=n(59666),v=n(50571),h=n(10665);function g(e){var t,n;let{tool:g,server:p,children:x}=e,{account:y}=(0,s.YL)(),b=null!=(n=null==y||null==(t=y.settings)?void 0:t.enabled_mcp_tools)?n:{},j=(0,h.vP)("enabled_mcp_tools")||{};(0,d.fS)("claude_ai_sticky_project_settings")&&(b=j);let{toggleMcpToolEnabled:A,toggleMcpToolAlwaysApproved:w}=(0,v.es)(),C=(0,v.yr)()(p,g),S=!C.approvalRequired,N=C.managedByOrg,M=C.managedByServer,_=g.enabledKey,L=(e,t,n)=>(0,a.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[t,(0,a.jsx)("p",{className:"text-sm text-text-400",children:n})]}),(0,a.jsx)(c.J,{size:16,className:(0,m.A)("shrink-0",e?"opacity-1":"opacity-0")})]}),z=(0,a.jsx)(i.$,{variant:"secondary",disabled:!1===b[_]||N||M,append:(0,a.jsx)(u.a,{size:16}),className:"!min-w-[200px] flex justify-between items-center",children:S?(0,a.jsx)(f.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}):(0,a.jsx)(f.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"})});return(0,a.jsxs)("div",{className:"flex flex-row gap-4 flex-shrink-0",children:[(0,a.jsx)("label",{children:(0,a.jsx)(r.j,{checked:!1!==b[_],onChange:e=>A(_,e.target.checked,p.url)})}),(0,a.jsx)("div",{className:"flex flex-grow",children:x}),(0,a.jsxs)(l.ms,{unstyledTrigger:!0,align:"start",trigger:M?(0,a.jsx)(o.Tooltip,{side:"top",tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"Permissions are controlled by {serverName}",id:"IbOJlxOOYO",values:{serverName:p.name}}),children:(0,a.jsx)("div",{children:z})}):N?(0,a.jsx)(o.Tooltip,{side:"top",tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"Setting managed by your organization",id:"dmrV8MS1en"}),children:(0,a.jsx)("div",{children:z})}):z,children:[(0,a.jsx)(l.tJ,{onClick:()=>{w(g.alwaysApprovedKey,!1)},disabled:M,children:L(!S,(0,a.jsx)(f.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"}),(0,a.jsx)(f.A,{defaultMessage:"Your approval is required every time",id:"Ne5BQmk7c1"}))}),(0,a.jsx)(l.tJ,{onClick:()=>{w(g.alwaysApprovedKey,!0)},disabled:M,children:L(S,(0,a.jsx)(f.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}),(0,a.jsx)(f.A,{defaultMessage:"Your approval is not required",id:"9AbpSd6OJA"}))})]})]})}},34498:(e,t,n)=>{n.d(t,{R:()=>l});var a=n(54568),s=n(7620),r=n(23812),i=n(3075);let l=(0,s.memo)(e=>{let{isOpen:t,onClose:n,onConfirm:l,title:o,message:d,confirmText:c="Confirm",cancelText:u="Cancel",variant:m="primary",isLoading:f,disabled:v=!1,autoFocus:h=!0,testId:g,children:p,size:x="sm"}=e,[y,b]=(0,s.useState)(!1),j=null!=f?f:y,A=(0,s.useCallback)(async()=>{if(!v&&!j){b(!0);try{let e=l();e&&"function"==typeof e.then&&await e,n()}finally{b(!1)}}},[l,n,v,j]),w=(0,s.useCallback)(()=>{j||n()},[n,j]);return(0,a.jsxs)(i.aF,{isOpen:t,onClose:w,title:o,modalSize:x,closeOnEscapeKeydown:!j,children:[(0,a.jsxs)("div",{className:"mt-1 mb-2",children:[d&&(0,a.jsx)("div",{className:"text-text-300 whitespace-pre-line",children:d}),p]}),(0,a.jsxs)(i.vW,{children:[(0,a.jsx)(r.$,{variant:"secondary",onClick:w,disabled:j,children:u}),(0,a.jsx)(r.$,{variant:"danger"===m?"danger":"primary",onClick:A,disabled:v||j,loading:j,autoFocus:h,"data-testid":g||"confirmation-modal-confirm",children:c})]})]})});l.displayName="ConfirmationModal"},36016:(e,t,n)=>{n.d(t,{tn:()=>A,nB:()=>p,rW:()=>x,bo:()=>w,Cq:()=>y,b4:()=>b,yL:()=>j});var a=n(1613),s=n(64328),r=n(80688),i=n(68067),l=n(2e3),o=n(28044),d=n(4869),c=n(27736),u=n(27541),m=n(7620),f=n(3111),v=n(22167),h=n(40459);let g="github_success",p=function(){var e;let{callerIdentifier:t,toggleGithubModalOpen:n,fetchImmediately:i=!1,pathname:l,queryString:d,shouldRedirectToDesktopApp:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:h}=(0,s.YL)(),p=null==h?void 0:h.uuid,x=y(),[b,j]=(0,m.useState)(i),A=(e=>{let{shouldFetch:t=!1}=e,{activeOrganization:n}=(0,s.YL)(),i=null==n?void 0:n.uuid,l=y();return(0,a.Sk)("/api/organizations/".concat(i,"/sync/github/auth"),{queryKey:[r.Hv,{orgUuid:i}],enabled:!!(t&&n&&l),meta:{noToast:!0}})})({shouldFetch:b}),w=(0,m.useCallback)(async function(){var e,t;let{forceRefetch:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!b||n?(j(!0),null==(e=(await A.refetch()).data)?void 0:e.is_authenticated):null==(t=A.data)?void 0:t.is_authenticated},[A,b]),{mutate:C}=(0,a.L2)("/api/organizations/".concat(p,"/sync/github/auth/start"),"POST",{enabled:!!(h&&x),onSuccess:e=>{if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return!1;try{if(!e.startsWith("http://")&&!e.startsWith("https://"))return!1;let n=new URL(e);return"https:"===n.protocol&&t.some(e=>n.hostname===e||n.hostname.endsWith(".".concat(e)))}catch(e){return!1}}(e.redirect_url,["github.com"]))window.location.href=e.redirect_url;else throw Error("Invalid redirect URL received from auth endpoint")}}),S="".concat(g,"=").concat(t).concat(d?"&".concat(d):"");(0,v.FZ)({callerIdentifier:t,successParam:g,handleOpen:()=>{null==n||n(!0)}});let N=(0,u.useSearchParams)(),M=(0,o.V)(),_=(0,m.useRef)(!1),L=(0,u.usePathname)(),z=(0,f.d)({pathname:l||L,searchParams:N,queryString:S,shouldOpenInClaudeApp:M||!!c});return{checkIsGithubAuthenticated:w,initGithubAuth:()=>{if(x){if(M)return void window.open("/settings/connectors?open_in_browser=1&auth_start=github&origin=".concat(z));_.current||(_.current=!0,C({pre_auth_state:{origin:z}}))}},isGithubAuthenticated:null==(e=A.data)?void 0:e.is_authenticated,isLoading:A.isLoading}},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,i=y(),l=(0,d.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/sync/github/auth"),"DELETE",{enabled:!!(t&&i),...e,onSuccess:function(){for(var t,a=arguments.length,s=Array(a),i=0;i<a;i++)s[i]=arguments[i];l.invalidateQueries({queryKey:[r.Hv,{orgUuid:n}]}),null==(t=e.onSuccess)||t.call(e,...s)}})},y=()=>{let{data:e}=(0,v.LN)(),t=(0,s.mV)(),n=!!(Array.isArray(e)&&e.find(e=>e.type===l.v8.GITHUB&&e.enabled));return!!(!h.env.NEXT_PUBLIC_DISABLE_GITHUB_INTEGRATION&&(!t||n))},b=()=>{let{activeOrganization:e}=(0,s.YL)(),t=null==e?void 0:e.uuid,n=y();return(0,a.Sk)("/api/organizations/".concat(t,"/sync/github/repos"),{queryKey:[r.jL,{orgUuid:t}],enabled:!!(e&&n),meta:{noToast:!0}})},j=function(){let{skipStatus:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,r=y(),l=(0,i.fS)("bad_moon_rising_skip_status"),o=null!=e?e:l,d=new URLSearchParams({skip_status:o.toString()}).toString();return(0,a.Sk)("/api/organizations/".concat(n,"/code/repos?").concat(d),{queryKey:["SYNC_GH_REPOS_WITH_STATUS_QUERY_KEY",{orgUuid:n,skipStatus:o}],enabled:!!(t&&n&&r),meta:{noToast:!0}})},A=e=>{var t;let{owner:n,repo:i,branch:l}=e,o=(e=>{let{owner:t,repo:n,branch:i}=e,{activeOrganization:l}=(0,s.YL)(),o=null==l?void 0:l.uuid,d=y(),c=new URLSearchParams({owner:null!=t?t:"",repo:null!=n?n:""}).toString();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/github/repo?").concat(c),{queryKey:[r.yB,{orgUuid:o,owner:t,repo:n}],enabled:!!(t&&n&&!i&&l&&d),meta:{noToast:!0}})})({owner:n,repo:i,branch:l}),d=(e=>{let{owner:t,repo:n,branch:i}=e,{activeOrganization:l}=(0,s.YL)(),o=null==l?void 0:l.uuid,d=y();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/github/repo/").concat(t,"/").concat(n,"/tree/").concat(i),{queryKey:[r.o6,{orgUuid:o,owner:t,repo:n,branch:i}],staleTime:3e5,enabled:!!(t&&n&&i&&l&&d),meta:{noToast:!0}})})({owner:n,repo:i,branch:l||(null==(t=o.data)?void 0:t.default_branch)});return{data:{repo:o.data,tree:d.data},isFetching:o.isFetching||d.isFetching,error:o.error||d.error}},w=e=>{let{repoBranches:t,enabled:n=!0}=e,{activeOrganization:a}=(0,s.YL)(),i=null==a?void 0:a.uuid,l=y(),o=[...t].sort((e,t)=>"".concat(e.repo,":").concat(e.branch).localeCompare("".concat(t.repo,":").concat(t.branch)));return(0,c.useQuery)({queryKey:[r.uh,{orgUuid:i,repoBranches:o}],queryFn:async()=>{let e=await fetch("/api/github/organizations/".concat(i,"/github_batch_branch_status"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({repo_branches:o})});if(!e.ok)throw Error("Failed to fetch branch statuses: ".concat(e.status));return e.json()},enabled:!!(a&&l&&o.length>0&&n),staleTime:5e3,refetchOnWindowFocus:!0})}},39383:(e,t,n)=>{n.d(t,{jR:()=>S,K8:()=>b,$F:()=>j,Dx:()=>C,Y5:()=>w,Qo:()=>z,hW:()=>M,Ox:()=>L,c7:()=>N,kV:()=>y});var a=n(74813),s=n(1613),r=n(64328),i=n(68067),l=n(2e3),o=n(27541),d=n(7620),c=n(22167),u=n(92245),m=n(35580),f=n(75495),v=n(24407);let h=v.z.object({field:v.z.enum(["custom_oauth_client_id","custom_oauth_client_secret","url"]),sourceUrl:v.z.string()}),g=v.z.object({uuid:v.z.string(),name:v.z.string(),oneLiner:v.z.string(),description:v.z.string(),iconUrl:v.z.string().optional(),toolNames:v.z.array(v.z.string()),promptNames:v.z.array(v.z.string()),license:v.z.string().optional(),version:v.z.string().optional(),author:v.z.object({name:v.z.string().optional(),url:v.z.string().optional()}).optional(),documentation:v.z.string().optional(),support:v.z.string().optional(),privacyPolicy:v.z.string().optional(),requiredFields:v.z.array(h).optional()});g.and(v.z.object({type:v.z.enum(["firstParty"]),syncSourceType:v.z.enum([l.v8.GDRIVE,l.v8.GMAIL,l.v8.GCAL,l.v8.SLACK])}));let p=g.and(v.z.object({type:v.z.enum(["remote"]),isAuthless:v.z.boolean()}).and(v.z.union([v.z.object({url:v.z.string(),urlRegex:v.z.undefined()}),v.z.object({url:v.z.undefined(),urlRegex:v.z.string()})])));g.and(v.z.object({type:v.z.enum(["local"]),manifest:f.ff,onDiskPath:v.z.string().optional(),downloadCount:v.z.number().optional(),lifetimeDownloadCount:v.z.number().optional(),isBlocklisted:v.z.boolean().optional(),isInternal:v.z.boolean().optional(),isAllowlisted:v.z.boolean().optional()}));let x=v.z.array(p),y=e=>{let{isOpen:t,selectedServerId:n}=e,s=(0,d.useRef)(!1),{track:r}=(0,a.st)();(0,d.useEffect)(()=>{t&&(!s.current||n)&&(s.current=!0,r({event_key:"claudeai.mcp.directory.page_view",directory_server_id:n}))},[t,n,r])},b=e=>{let{openModal:t}=e,n=(0,o.useSearchParams)(),a=n.get("directory-open"),s=n.get("directory-uuid");(0,d.useEffect)(()=>{if(a){try{let e=new URL(window.location.href);e.searchParams.delete("directory-open"),e.searchParams.delete("directory-uuid"),window.history.replaceState(null,"",e.pathname+e.search+e.hash)}catch(e){window.history.replaceState(null,"",window.location.pathname+window.location.hash)}t(null!=s?s:void 0)}},[a,s,t])},j=e=>{let{modalIsOpen:t,directoryUuid:n}=e,a=(0,d.useRef)(null);(0,d.useEffect)(()=>{let e;try{e=new URL(window.location.href)}catch(e){return}t?(a.current||(a.current=window.location.pathname),window.history.replaceState(null,"","/directory".concat(n?"/".concat(n):"")+e.search+e.hash)):!t&&a.current&&(window.history.replaceState(null,"",a.current+e.search+e.hash),a.current=null)},[t,n])},A=[{uuid:"8c1b41b4-c060-4704-8c17-95c39fa3511c",name:"Gmail",type:"firstParty",syncSourceType:l.v8.GMAIL,oneLiner:"Draft replies, summarize threads, & search your inbox",description:"Connect Gmail to Claude to quickly find important emails and understand long conversations. Claude can search through your messages, read entire email threads to give you context, and help you stay on top of your inbox. Perfect for finding that message you remember sending, catching up on email chains you missed, or preparing for meetings.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"da761fc3-2821-443c-9734-0b53599fda39",name:"Google Calendar",type:"firstParty",syncSourceType:l.v8.GCAL,oneLiner:"Understand your schedule and optimize your time",description:"Connect Google Calendar to Claude so it can see your schedule, find specific events, and help you prepare for meetings. Claude can search your calendar for events, check your availability, and find free time slots for scheduling. Useful for understanding what’s coming up, preparing for meetings by seeing attendee lists and details, or coordinating schedules when planning new events.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"37fb5d42-ef62-45d4-a12e-66551527a003",name:"Google Drive",type:"firstParty",syncSourceType:l.v8.GDRIVE,oneLiner:"Find and analyze files instantly",description:"Connect Google Drive to Claude so it can search through your documents, read file contents, and help you work with your files. Claude can find specific documents even when you don’t remember the exact name, read and analyze the content of your docs, and convert files to different formats. Useful for finding old project notes, analyzing document content, or pulling information from files scattered across your Drive.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/10166901-using-the-google-drive-integration",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"}],w=()=>{let e=(0,m.Uz)();return{getCorrespondingInstalledServer:t=>{let{url:n,urlRegex:a}=t;if(n)return e.find(e=>e.url===n)||null;if(a){let t=new RegExp(a);return e.find(e=>t.test(e.url||""))||null}return null}}},C=e=>({getCorrespondingDirectoryServer:(0,d.useCallback)(t=>{let{url:n}=t;return n&&e.find(e=>{if("remote"===e.type){if(e.url)return e.url===n;else if(e.urlRegex)return new RegExp(e.urlRegex).test(n)}return!1})||null},[e])}),S=e=>{if(e<1e3)return e.toString();let t=(e,t,n)=>{let a=e/t,s=a<10?Math.round(10*a)/10:Math.round(a);return"".concat(s).concat(n)};return e<1e6?t(e,1e3,"k"):e<1e9?t(e,1e6,"M"):t(e,1e9,"B")},N=()=>{let e=(0,i.T9)("mcp_directory_servers","servers",[],x),t=(0,i.T9)("conditional_mcp_directory_servers","servers",[],x),n=e.concat(t),a=(0,c.vm)(),s=(0,c.kO)();return{status:"success",servers:[...((e,t,n)=>{var a,s,r;let i=new Set;return(null==(a=e[l.v8.GMAIL])?void 0:a.available)&&!t||i.add(l.v8.GMAIL),(null==(s=e[l.v8.GCAL])?void 0:s.available)&&!t||i.add(l.v8.GCAL),(null==(r=e[l.v8.GDRIVE])?void 0:r.available)&&!n||i.add(l.v8.GDRIVE),A.filter(e=>!i.has(e.syncSourceType))})((0,u.Ou)(),a,s),...n].sort((e,t)=>e.name.localeCompare(t.name)),refetch:()=>{}}},M=()=>{let{servers:e}=N(),{getCorrespondingDirectoryServer:t}=C(e.filter(e=>"remote"===e.type));return{isRemoteServerInDirectory:e=>{let{url:n}=e;return!!t({url:n})}}},_=e=>e.map(e=>{var t,n;let a=e.manifest;return{type:"local",uuid:e.id,name:a.display_name||a.name,oneLiner:a.description,description:a.long_description||a.description,iconUrl:e.icon_url||"",toolNames:(null==(t=a.tools)?void 0:t.map(e=>e.name))||[],promptNames:(null==(n=a.prompts)?void 0:n.map(e=>e.name))||[],license:a.license,version:a.version,author:{name:a.author.name,url:a.author.url},documentation:a.documentation,support:a.support,manifest:a,downloadCount:e.download_count,lifetimeDownloadCount:e.lifetime_download_count,isBlocklisted:e.is_blocklisted,isInternal:e.is_internal,isAllowlisted:e.is_allowlisted}}).sort((e,t)=>{var n,a;let s=null!=(n=e.lifetimeDownloadCount)?n:-1;return(null!=(a=t.lifetimeDownloadCount)?a:-1)-s}),L=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:t}=(0,r.YL)(),n=(0,s.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/dxt/extensions"),{headers:{"x-dxt-registry-version":"2","x-mcpb-manifest-version":"0.2"}});if("success"!==n.status)return{status:n.status,servers:[],refetch:()=>{n.refetch()}};let a=e?n.data.entries:n.data.entries.filter(e=>!0!==e.is_blocklisted);return{status:n.status,refetch:()=>{n.refetch()},servers:_(a)}},z=()=>{let{activeOrganization:e}=(0,r.YL)(),t=(0,s.Sk)("/api/organizations/".concat(null==e?void 0:e.uuid,"/dxt/installable_extensions"),{headers:{"x-dxt-registry-version":"2","x-mcpb-manifest-version":"0.2"},refetchOnMount:!0});return"success"!==t.status?{status:t.status,servers:[],refetch:()=>{t.refetch()}}:{status:t.status,refetch:()=>{t.refetch()},servers:_(t.data.entries)}}},50571:(e,t,n)=>{n.d(t,{$V:()=>A,vx:()=>b,yr:()=>C,kX:()=>j,sb:()=>y,v_:()=>_,Ax:()=>L,M8:()=>N,ko:()=>w,AY:()=>S,es:()=>M}),n(42759);var a=n(94295),s=n(74813),r=n(1613),i=n(64328),l=n(28),o=n(68067),d=n(28044),c=n(7620),u=n(44007),m=n(96547),f=n(98649),v=n(90370),h=n(88775),g=n(66365),p=n(35580),x=n(10665);let y=()=>(0,o.fS)("bagel_enabled"),b=()=>{let{account:e,activeOrganization:t}=(0,i.YL)(),n=(0,i.mV)(),a=(0,l.pG)(e,t,"claude-ai"),s=(0,l.yI)(e,t,l.Nt.IntegrationsManage);return!n||a||s},j=()=>{let e=(0,i.zm)(),t=b();return e&&!t},A="mcp_directory_chin",w=function(){var e,t;let{shouldTrack:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,c.useRef)(!1),s=y(),{dismiss:r}=(0,f.W)(),{account:l}=(0,i.YL)(),o=j(),d=new Date,u="".concat(d.getDate(),"-").concat(d.getMonth(),"-").concat(d.getFullYear()),m="".concat(A,"_").concat(u),v=(null!=(t=null==l||null==(e=l.settings.dismissed_claudeai_banners)?void 0:e.map(e=>e.banner_id))?t:[]).filter(e=>e.includes(A)),h=(0,c.useMemo)(()=>!(!s||o||v.includes(A))&&(!(v.length>3)||!v.includes(m)),[o,s,v,m]);return(0,c.useEffect)(()=>{!a.current&&h&&!v.includes(m)&&n&&(r(m),a.current=!0)},[m,v,n,r,h]),h};function C(e){var t;let n=(0,o.fS)("disable_destructive_mcp_tools_by_default"),{getMcpToolApprovalConfigSetting:a}=function(e){let{value:t}=(0,g.useDynamicConfig)("tanuki"===e?"tanuki_mcp_tool_approval_config":"mcp_tool_approval_config"),n=(0,c.useCallback)((e,n)=>{var a,s;if(!t||!e)return;let r=[e.url,e.uuid,e.name].map(e=>{var a,s;if(e)return(null==(a=t[e])?void 0:a[null!=n?n:"*"])||(null==(s=t[e])?void 0:s["*"])||void 0}).find(e=>void 0!==e);return void 0!==r?r:n&&(null==(a=t["*"])?void 0:a[n])!==void 0?t["*"][n]:(null==(s=t["*"])?void 0:s["*"])!==void 0?t["*"]["*"]:void 0},[t]);return{toolApprovalConfig:t,getMcpToolApprovalConfigSetting:n}}(e),{account:s}=(0,i.YL)(),r=null==s||null==(t=s.settings)?void 0:t.enabled_mcp_tools;return(0,c.useCallback)((e,t)=>{var s,i;let l=a(e,null==t?void 0:t.name),o=(null==t?void 0:t.alwaysApprovedKey)?null==r?void 0:r[null==t?void 0:t.alwaysApprovedKey]:void 0;return n&&(null==t||null==(s=t.annotations)?void 0:s.destructiveHint)===!0?{approvalRequired:!0,showAlwaysAllowed:!1}:"always"===l?{approvalRequired:!0,showAlwaysAllowed:!1,managedByOrg:!0}:o?{approvalRequired:!1}:"server"===l?{approvalRequired:!1,managedByServer:!0}:"never"===l&&!1!==o||"readOnly"===l&&(null==t||null==(i=t.annotations)?void 0:i.readOnlyHint)===!0&&!1!==o?{approvalRequired:!1}:{approvalRequired:!0,showAlwaysAllowed:!0,managedByOrg:!1,managedByServer:!1}},[n,a,r])}let S=()=>{let e=(0,p.Uz)({type:"local"});return!!(0,d.V)()&&e.length>0},N=()=>{var e,t,n;let a=(0,v.oM)(),s=(null==(e=a.pendingConversationSettings)?void 0:e.compass_mode)==="advanced"||(null==(n=a.conversation)||null==(t=n.conversationSettings)?void 0:t.compass_mode)==="advanced",r=(0,p.Uz)({type:"remote"}).length>0;return s&&r},M=e=>{let t=(0,h.jw)(),{account:n}=(0,i.YL)(),{updateSettings:r}=(0,x.IS)(),{track:l}=(0,s.st)(),{mutate:o}=(0,a.yJ)();return{toggleMcpToolEnabled:(a,s,i)=>{n&&(r({mcpToolsUpdate:Array.isArray(a)?a.reduce((e,t)=>({...e,[t]:s}),{}):{[a]:s}}),l({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:a,value:s,url:i,source:null==e?void 0:e.source}))},toggleMcpToolAlwaysApproved:(e,t)=>{n&&o({enabled_mcp_tools:{...n.settings.enabled_mcp_tools,[e]:t}})}}},_=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,{data:a}=(0,m.XT)(n,e||"",{enabled:!!e&&!!n});return!!a},L=()=>{let e=(0,u.p9)(),{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,r.L2)("/api/organizations/".concat(n,"/mcp/resources"),"POST",{enabled:e&&!!n})}},54787:(e,t,n)=>{n.d(t,{c:()=>u,j:()=>m});var a=n(2348),s=n(54568),r=n(59922),i=n(72902),l=n(7620),o=n(59666);function d(){let e=(0,a._)(["\n  relative\n  bg-text-500/50\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-always-white/0 after:from-0% after:via-always-white/20 after:via-50% after:to-100% after:to-always-white/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return d=function(){return e},e}function c(){let e=(0,a._)(["\n  relative\n  bg-bg-400\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-bg-000/0 after:from-0% after:via-bg-000/20 after:via-50% after:to-100% after:to-bg-000/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return c=function(){return e},e}let u=e=>{let{repeat:t,children:n}=e;return(0,s.jsx)(s.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,s.jsx)(l.Fragment,{children:n},t))})};function m(e){let{className:t,height:n=24,width:a,rounded:r="full",variant:d="default"}=e,c=(0,l.useRef)(null),u={height:n,width:"number"==typeof a||"string"==typeof a?a:"object"==typeof a?(null===c.current&&(c.current=Math.round(Math.random()*(a.max-a.min))+a.min),c.current):"100%",maxWidth:"100%"};return(0,s.jsx)("light"===d?v:f,{className:(0,i.A)(t,{"rounded-full":"full"===r,"rounded-xl":"xl"===r,"rounded-lg":"lg"===r,"rounded-md":"md"===r,"rounded-sm":"sm"===r}),style:u,children:(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}let f=r.J.div(d()),v=r.J.div(c())},60147:(e,t,n)=>{n.d(t,{m:()=>p});var a=n(54568),s=n(46302),r=n(64328),i=n(35984),l=n(34498),o=n(2e3),d=n(65315),c=n(10369),u=n(96547),m=n(79052),f=n(5924),v=n(36016),h=(n(18050),n(22167)),g=n(20746);function p(e){let{type:t,server:n,onClose:s}=e;if(n)return(0,a.jsx)(j,{server:n,onClose:s});switch(t){case o.v8.GITHUB:return(0,a.jsx)(x,{onClose:s});case o.v8.GDRIVE:return(0,a.jsx)(y,{onClose:s});case o.v8.OUTLINE:return;case o.v8.FIDDLEHEAD:return(0,a.jsx)(A,{onClose:s});case o.v8.CUTTLEFISH:return(0,a.jsx)(w,{onClose:s});default:return(0,a.jsx)(b,{type:t,onClose:s})}}function x(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,v.rW)();return(0,a.jsx)(C,{name:"GitHub",onDisconnect:n,disconnecting:s,onClose:t})}function y(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,m.U5)(),r=(0,c.A)();return(0,a.jsx)(C,{name:"Google Drive",onDisconnect:n,disconnecting:s,onClose:t,modalMessageOverride:r.formatMessage({defaultMessage:"You won’t be able to continue any previous chats that reference content from Google Docs.",id:"Zi7eVRnAwf"})})}function b(e){let{type:t,onClose:n}=e,{disconnect:s}=(0,h.ob)(t);return(0,a.jsx)(C,{name:(0,g.xI)(t),onDisconnect:s,disconnecting:!1,onClose:n})}function j(e){let{server:t,onClose:n}=e,s=(0,c.A)(),{activeOrganization:l}=(0,r.YL)(),{addError:o}=(0,i.Y)(),{mutate:d,isPending:m}=(0,u.W3)((null==l?void 0:l.uuid)||"",t.uuid,{onError:e=>{o(s.formatMessage({defaultMessage:"Failed to disconnect from server",id:"L488a5jdgF"}),{error:e,messageForLogging:"Failed to disconnect from server"})}});return(0,a.jsx)(C,{name:t.name,onDisconnect:d,disconnecting:m,onClose:n})}function A(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,f.Qp)(),r=(0,g.ak)(),i=(0,d.wc)(),l=i[d.BU],c=i[d.jT],u=i[d.fh];return(0,a.jsx)(C,{name:r(o.v8.FIDDLEHEAD),onDisconnect:n,disconnecting:s,onClose:t,modalMessageOverride:l,modalTitleOverride:c,modalButtonOverride:u})}function w(e){let{onClose:t}=e,{mutate:n,isPending:r}=(0,s.fH)(),i=(0,g.ak)();return(0,a.jsx)(C,{name:i(o.v8.CUTTLEFISH),onDisconnect:n,disconnecting:r,onClose:t})}function C(e){let{name:t,onDisconnect:n,disconnecting:s,onClose:r,modalMessageOverride:i,modalTitleOverride:o,modalButtonOverride:d}=e,u=(0,c.A)(),m=null!=o?o:u.formatMessage({defaultMessage:"Disconnect {integrationName}?",id:"MUrNVj88RO"},{integrationName:t}),f=null!=d?d:u.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),v=null!=i?i:u.formatMessage({defaultMessage:"You can still continue previous chats that reference {integrationName} content. However, Claude won’t be able to access new content or perform new tasks.",id:"tlmLidjA7e"},{integrationName:t});return(0,a.jsx)(l.R,{isOpen:!0,onClose:r,title:m,onConfirm:()=>{n(),r()},confirmText:f,variant:"danger",autoFocus:!1,message:v,size:"md",isLoading:s})}},66716:(e,t,n)=>{n.d(t,{r:()=>o});var a=n(54568),s=n(72902),r=n(57965),i=n.n(r),l=n(7620);function o(e){let{direction:t="vertical",disabled:n,containerClassName:r,className:o,gradientHeight:d=24,hideTopGradient:c=!1,hideBottomGradient:u=!1,contentHeightMayChange:m=!1,containerHeightMayChange:f=!1,children:v,...h}=e,g=(0,l.useRef)(null),p=(0,l.useRef)(null),[x,y]=(0,l.useState)(!0),[b,j]=(0,l.useState)(!0),A=(0,l.useRef)(x),w=(0,l.useRef)(b),C=i()((0,l.useCallback)(()=>{let e=p.current;e&&(("vertical"===t?e.scrollHeight-e.scrollTop-e.clientHeight<=1:e.scrollWidth-e.scrollLeft-e.clientWidth<=1)?A.current||(y(!0),A.current=!0):A.current&&(y(!1),A.current=!1),("vertical"===t?e.scrollTop:e.scrollLeft)<=0?w.current||(j(!0),w.current=!0):w.current&&(j(!1),w.current=!1))},[t]),150);return(0,l.useEffect)(()=>{C()},[C]),(0,l.useEffect)(()=>{if(!g.current||!m)return;let e=new ResizeObserver(C);return e.observe(g.current),()=>{e.disconnect()}},[C,m]),(0,l.useEffect)(()=>{if(!p.current||!f)return;let e=new ResizeObserver(C);return e.observe(p.current),()=>{e.disconnect()}},[C,f]),(0,a.jsx)("div",{style:{maskImage:n?void 0:"linear-gradient(to ".concat("vertical"===t?"bottom":"right",", transparent 0%, black ").concat(b||c?0:d,"px, black calc(100% - ").concat(x||u?0:d,"px), transparent 100%)")},className:(0,s.A)("vertical"===t?"min-h-0":"min-w-0",r),children:(0,a.jsx)("div",{onScroll:n?void 0:C,ref:p,className:(0,s.A)("vertical"===t?"overflow-y-auto overflow-x-hidden min-h-0":"overflow-x-auto overflow-y-hidden min-w-0",o),...h,children:m?(0,a.jsx)("div",{ref:g,children:v}):v})})}},68010:(e,t,n)=>{n.d(t,{M:()=>d});var a=n(54568),s=n(84617),r=n(43178),i=n(72902),l=n(7620),o=n(59666);function d(e){let{text:t,className:n}=e,[d,c]=(0,l.useState)(!1),u=(0,l.useRef)(null),m=(0,l.useRef)(0),[f,v]=(0,l.useState)(42),h=f>42;return((0,l.useLayoutEffect)(()=>{var e;v((null==(e=u.current)?void 0:e.scrollHeight)||0)},[t]),t)?(0,a.jsxs)("div",{className:(0,i.A)("overflow-hidden relative transition-[height] duration-150 ease-in-out","text-text-300 text-sm",n),style:{height:d?f+32*!!h:40},children:[(0,a.jsx)("div",{ref:u,className:"whitespace-pre-wrap",style:{wordBreak:"break-word",overflowWrap:"anywhere"},children:t}),h&&(0,a.jsx)("div",{className:"absolute bottom-0 right-0 bg-bg-100 bottom-0",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute top-0 bottom-0 -left-4 w-6 bg-gradient-to-r from-transparent to-bg-100"}),(0,a.jsx)(s.Y,{onClick:()=>{var e;let t=null==(e=u.current)?void 0:e.closest(".overflow-y-auto");!d&&t?m.current=t.scrollTop:d&&t&&t.scrollTo({top:m.current,behavior:"instant"}),c(e=>!e)},className:"font-medium flex gap-1 items-center relative ",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{size:12,weight:"bold"}),(0,a.jsx)(o.A,{defaultMessage:"Less",id:"mFYgAXM/x4"})]}):(0,a.jsx)(o.A,{defaultMessage:"{ellipsis}More",id:"eRW5dl5m34",values:{ellipsis:"..."}})})]})})]}):null}},71396:(e,t,n)=>{n.d(t,{J:()=>v});var a=n(54568),s=n(26819),r=n(66716),i=n(3075),l=n(72902),o=n(10369),d=n(59666),c=n(83226),u=n(45271),m=n(68010),f=n(22271);function v(e){let{onClose:t,server:n}=e,l=(0,o.A)();return(0,a.jsx)(i.aF,{isOpen:!0,hasCloseButton:!0,onClose:t,modalSize:"xl",children:(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-6",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.z,{size:42,imageSize:24,type:n.iconType,src:n.iconSrc,name:n.name}),(0,a.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("p",{className:"font-medium",children:n.name}),(0,a.jsx)(s.E,{children:"remote"===n.type?(0,a.jsx)(d.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(d.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),n.url?(0,a.jsx)(c.sd,{url:n.url}):n.version&&(0,a.jsx)("div",{className:"text-sm text-text-400",children:n.version})]})]})}),(0,a.jsx)(r.r,{gradientHeight:24,className:"h-[500px]",children:(0,a.jsx)("div",{className:"flex flex-col pb-4",children:(()=>{let e=!!n.tools.length,t=!!n.resources.length,s=!!n.prompts.length,r=!e&&t,i=!e&&!t&&s;return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(h,{name:l.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),items:n.tools,server:n,isFirst:e}),t&&(0,a.jsx)(h,{name:l.formatMessage({defaultMessage:"Resources",id:"c/KktLImbB"}),items:n.resources,isFirst:r}),s&&(0,a.jsx)(h,{name:l.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),items:n.prompts,isFirst:i})]})})()})})]})})}function h(e){let{name:t,items:n,server:s,isFirst:r}=e;return(0,a.jsxs)("div",{className:(0,l.A)("flex flex-col pb-4",!r&&"border-t border-border-300 pt-4"),children:[(0,a.jsx)("div",{className:"sticky top-0 w-full bg-bg-100 pt-2 pb-4 z-10",children:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)("div",{className:"font-large-bold text-text-100",children:t})})}),(0,a.jsx)("div",{children:n.map(e=>{let t=(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"font-base-bold",children:e.displayName}),(0,a.jsx)(m.M,{text:e.description})]});return(0,a.jsx)("div",{className:"py-2",children:s?(0,a.jsx)(f.P,{tool:e,server:s,children:t},e.name):t},e.name)})})]})}},79155:(e,t,n)=>{n.d(t,{f:()=>i});var a=n(54568),s=n(89626),r=n(72902);let i=(0,n(7620).forwardRef)((e,t)=>{let{checkState:n,onClick:i,label:l,...o}=e,d="partial"===n?s.Hsy:s.Jlk;return(0,a.jsxs)("div",{className:"p-2 -m-2 flex items-center",onClick:e=>{e.stopPropagation(),i({didCheck:"unchecked"===n})},children:[(0,a.jsx)("button",{ref:t,className:(0,r.A)("rounded p-[0.5px] border-0.5 flex items-center justify-center transition","unchecked"!==n?"bg-accent-secondary-000 border-accent-secondary-200 shadow-sm":"border-border-200 hover:bg-bg-000 hover:shadow-sm"),...o,children:(0,a.jsx)(d,{className:(0,r.A)("text-always-white transition",{invisible:"unchecked"===n}),size:16})}),l&&(0,a.jsx)("span",{className:"ml-2 cursor-pointer",children:l})]})});i.displayName="PartialCheckbox"},80092:(e,t,n)=>{n.d(t,{AW:()=>u,Ks:()=>f,LK:()=>v,oo:()=>m,sr:()=>c});var a=n(1613),s=n(64328),r=n(28),i=n(68067),l=n(4869);let o="lti_platforms";function d(){return(0,i.fS)("claude_ai_velvet_accordion")}let c=()=>{let{activeOrganization:e,account:t}=(0,s.YL)(),n=null==e?void 0:e.uuid,i=(0,r.yI)(t,e,r.Nt.OrganizationManage),l=d();return(0,a.Sk)("/api/organizations/".concat(n,"/lti/platforms"),{queryKey:[o,{orgUuid:n}],enabled:!!e&&!!n&&i&&l})},u=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=d();return(0,a.L2)("/api/organizations/".concat(r,"/lti/platforms"),"PUT",{enabled:i,onSuccess:e=>{t.setQueryData([o,{orgUuid:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n)=>{e&&!n&&(t.setQueryData([o,{orgUuid:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]}))},...e})},m=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=d();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},f=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=d();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},v=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=d();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUuid:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})}},83226:(e,t,n)=>{n.d(t,{cG:()=>j,fI:()=>y,lg:()=>p,sd:()=>x,zA:()=>b});var a=n(54568),s=n(64328),r=n(35984),i=n(26819),l=n(54787),o=n(67453),d=n(64371),c=n(28),u=n(2e3),m=n(72902);n(7620);var f=n(10369),v=n(59666),h=n(45271),g=n(20746);function p(){let{account:e,activeOrganization:t}=(0,s.YL)(),n=(0,c.pG)(e,t,"claude-ai"),a=(0,c.yI)(e,t,c.Nt.IntegrationsManage),r=(0,s.mV)();return{manageFromOrg:r&&(a||n),manageFromPersonal:!r}}function x(e){let{url:t}=e,{copyToClipboard:n}=(0,d.C)(),{addSuccess:s}=(0,r.Y)(),i=(0,f.A)(),l=t.length>50?"".concat(t.substring(0,47),"..."):t;return(0,a.jsx)(o.Tooltip,{tooltipContent:(0,a.jsx)(v.A,{defaultMessage:"Copy URL",id:"P8QaSQLfW+"}),side:"bottom",align:"start",children:(0,a.jsx)("div",{className:"text-sm text-text-400 cursor-pointer hover:text-text-300 transition-colors truncate",onClick:()=>{n(t),s(i.formatMessage({defaultMessage:"Server URL copied",id:"Izgggpt47N"}))},children:l})})}function y(e){let{type:t,server:n,connected:s,children:r,isInDirectory:l=!1}=e,o=(0,g.ak)(),d=n?!n.isConnected:t&&!1===s,c=t===u.v8.FIDDLEHEAD?o(t):null==n?void 0:n.name;return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.z,{size:42,imageSize:24,type:"syncSource",src:t,name:t,className:(0,m.A)(d&&"opacity-50")}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsx)("span",{className:(0,m.A)("truncate",d&&"text-text-400"),children:o(t)}),d&&(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})})]})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.z,{size:42,imageSize:24,type:n.iconType,src:n.iconSrc,name:c||"?",className:(0,m.A)(d&&"opacity-50")}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{className:(0,m.A)("truncate",d&&"text-text-400"),children:c}),!l&&(0,a.jsx)(i.E,{children:"remote"===n.type?(0,a.jsx)(v.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(v.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),d?(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})}):n.url&&!l&&(0,a.jsx)(x,{url:n.url})]})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:r})]})}function b(){return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,a.jsx)(l.j,{width:42,height:42,rounded:"lg",variant:"light"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(l.j,{width:120,height:20,rounded:"md",variant:"light"}),(0,a.jsx)(l.j,{width:80,height:16,rounded:"md",variant:"light"})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:(0,a.jsx)(l.j,{width:80,height:32,rounded:"md",variant:"light"})})]})}function j(e){let{className:t}=e;return(0,a.jsx)("div",{className:(0,m.A)("border-t-[0.5px] border-border-300 m-2",t)})}},84543:(e,t,n)=>{n.d(t,{E:()=>l});var a=n(54568),s=n(13750),r=n(10369),i=n(59666);function l(e){let{domain:t,setDomain:n,clientId:l,setClientId:o,deploymentId:d,setDeploymentId:c}=e,u=(0,r.A)();return(0,a.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:t,onValueChange:e=>n(e||""),onBlur:()=>n(t.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:l,onValueChange:e=>o(e||""),onBlur:()=>o(l.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:d,onValueChange:e=>c(e||""),onBlur:()=>c(d.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}},88281:(e,t,n)=>{n.d(t,{r:()=>w,z:()=>C});var a=n(54568),s=n(23812),r=n(87483),i=n(28044),l=n(19820),o=n(72902),d=n(7620),c=n(10369),u=n(80092),m=n(3075),f=n(18868),v=n(59666);function h(e){let{platform:t,onClose:n,onConfirm:r,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,a.jsx)(f.N,{size:20,weight:"bold"}),(0,a.jsx)(v.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(v.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(v.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,a.jsx)("p",{className:"text-text-200 text-sm",children:(0,a.jsx)(v.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(s.$,{variant:"danger",onClick:()=>r(t.id),loading:i,children:(0,a.jsx)(v.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(v.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var g=n(7133),p=n(99740);function x(e){let{platform:t,onClose:n,onConfirm:r,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,a.jsx)(p.r,{size:20,weight:"bold"}),(0,a.jsx)(v.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(v.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(v.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,a.jsx)("li",{children:(0,a.jsx)(v.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(s.$,{variant:"primary",onClick:()=>r(t.id),loading:i,children:(0,a.jsx)(v.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(v.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var y=n(3217),b=n(60147),j=n(98802),A=n(71396),w=function(e){return e[e.TOOLS=0]="TOOLS",e[e.DISCONNECT=1]="DISCONNECT",e[e.REMOVE=2]="REMOVE",e[e.DISABLE=3]="DISABLE",e[e.EDIT_CANVAS=4]="EDIT_CANVAS",e[e.DISABLE_CANVAS=5]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=6]="ENABLE_CANVAS",e}({});function C(e){let{type:t,server:n,actions:m}=e,f=(0,c.A)(),v=(0,i.V)(),[p,w]=(0,d.useState)(void 0),C=()=>w(void 0),{data:S}=(0,u.sr)(),N=(0,u.oo)({onSuccess:C}),M=(0,u.Ks)({onSuccess:C}),_=(0,u.LK)({onSuccess:C}),L=null==S?void 0:S[0];if(0===m.length)return;let z={0:f.formatMessage({defaultMessage:"Tools and settings",id:"8a8L0qsqhm"}),1:f.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),3:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),2:f.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),4:f.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),5:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),6:f.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"})},I=null;switch(p){case 0:I=(0,a.jsx)(A.J,{server:n,onClose:C});break;case 1:I=(0,a.jsx)(b.m,{type:t,server:n,onClose:C});break;case 3:I=(0,a.jsx)(y.u,{type:t,onClose:C});break;case 2:I=(0,a.jsx)(j.f,{server:n,onClose:C});break;case 4:I=L?(0,a.jsx)(g.S,{platform:L,onClose:C,onSubmit:(e,t,n,a)=>{N.mutate({platformId:e,canvas_url:t,client_id:n,name:"".concat(t," Canvas"),deployment_ids:[a]})},loading:N.isPending}):null;break;case 5:I=L?(0,a.jsx)(h,{platform:L,onClose:C,onConfirm:e=>{_.mutate({platformId:e,is_active:!1})},loading:_.isPending}):null;break;case 6:I=L?(0,a.jsx)(x,{platform:L,onClose:C,onConfirm:e=>{M.mutate({platformId:e,is_active:!0})},loading:M.isPending}):null}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.ms,{align:"end",trigger:(0,a.jsx)(s.$,{size:"icon",variant:"secondary","aria-label":n?f.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:n.name}):f.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,a.jsx)(l.H,{size:16,weight:"bold"})}),children:m.map(e=>(0,a.jsx)(r.tJ,{className:(0,o.A)("min-w-[175px]",[1,3,2,5].includes(e)&&"text-danger-000"),onClick:()=>{if(2===e&&(null==n?void 0:n.type)==="local"&&v){var t,a;null==(a=window.claudeAppBindings)||null==(t=a.openMcpSettings)||t.call(a,n.name)}else w(e)},children:z[e]},e))}),I]})}},92245:(e,t,n)=>{n.d(t,{Ou:()=>g,Xd:()=>p});var a=n(46302),s=n(68067),r=n(2e3),i=n(65315),l=n(66365),o=n(80092),d=n(79052),c=n(5924),u=n(36016),m=n(18050),f=n(22167),v=n(88281);function h(){let e=(0,s.fS)("kingfisher_enabled"),t=(0,d.LP)(),{isDriveAuthenticated:n}=(0,d.cI)(),a=(0,s.fS)("pumpernickel_enabled"),i=(0,f.vm)(),o=(0,f.kO)(),c=(0,f.Ys)(r.v8.GMAIL),{isAuthenticated:u}=(0,f.ob)(r.v8.GMAIL),m=(0,f.Ys)(r.v8.GCAL),{isAuthenticated:v}=(0,f.ob)(r.v8.GCAL),h=(0,f.Ys)(r.v8.SLACK),{isAuthenticated:g}=(0,f.ob)(r.v8.SLACK),p=(0,l.useLayer)("trials_freemium").get("free_integrations",!1);return{[r.v8.GDRIVE]:{type:r.v8.GDRIVE,available:(e||p)&&!o,enabledForOrg:t,connected:n},[r.v8.GMAIL]:{type:r.v8.GMAIL,available:(a||p)&&!i,enabledForOrg:c,connected:u},[r.v8.GCAL]:{type:r.v8.GCAL,available:(a||p)&&!i,enabledForOrg:m,connected:v},[r.v8.SLACK]:{type:r.v8.SLACK,available:h,enabledForOrg:h,connected:g}}}let g=h;function p(){let e=Object.values(h()),t=(0,s.fS)("github_disabled"),n=(0,u.Cq)(),{isGithubAuthenticated:l}=(0,u.nB)({fetchImmediately:!0}),d=(0,i.wc)()[i.j$]||"invalid",{data:g}=(0,a.Jh)(d),p=g&&g.length>0,x=(0,s.fS)("spider_enabled_2"),y=(0,m.AI)(),{isOutlineAuthenticated:b}=(0,m.I5)(),j=(0,s.fS)("cinnabon_enabled"),A=(0,f.Ys)(r.v8.SALESFORCE),{isAuthenticated:w}=(0,f.ob)(r.v8.SALESFORCE),C=(0,f.Ys)(r.v8.ASANA),{isAuthenticated:S}=(0,f.ob)(r.v8.ASANA),N=(0,s.fS)("claude_ai_ember"),M=(0,s.fS)("claude_ai_velvet_accordion"),{data:_}=(0,o.sr)(),L=((null==_?void 0:_.filter(e=>e.is_active))||[]).length>0,z=(0,c.w5)(),{isAuthenticated:I}=(0,c.eF)();return[...e,...p?[{type:r.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:r.v8.GITHUB,available:!t,enabledForOrg:n,connected:l},{type:r.v8.OUTLINE,available:x&&!1,enabledForOrg:y,connected:b},{type:r.v8.SALESFORCE,available:j,enabledForOrg:A,connected:w},{type:r.v8.ASANA,available:j,enabledForOrg:C,connected:S},{type:r.v8.FIDDLEHEAD,available:!1,enabledForOrg:z,connected:I},{type:r.v8.CANVAS,available:N&&M&&!0,enabledForOrg:L,connected:L,connectedActions:L?[v.r.EDIT_CANVAS,v.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},98649:(e,t,n)=>{n.d(t,{W:()=>i});var a=n(94295),s=n(64328),r=n(7620);function i(){let{mutate:e,isPending:t}=(0,a.yJ)(),{account:n}=(0,s.YL)();return{dismiss:(0,r.useCallback)(t=>{var a,s,r;n&&(null!=n&&null!=(s=n.settings)&&null!=(a=s.dismissed_claudeai_banners)&&a.some(e=>e.banner_id===t)||e({dismissed_claudeai_banners:[...(null==n||null==(r=n.settings)?void 0:r.dismissed_claudeai_banners)||[],{banner_id:t,dismissed_at:new Date().toISOString()}]}))},[n,e]),isDismissed:(0,r.useCallback)(e=>{var t,a;return(null==n||null==(a=n.settings)||null==(t=a.dismissed_claudeai_banners)?void 0:t.some(t=>t.banner_id===e))||!1},[n]),isPending:t}}},98802:(e,t,n)=>{n.d(t,{f:()=>u});var a=n(54568),s=n(64328),r=n(35984),i=n(23812),l=n(3075),o=n(10369),d=n(59666),c=n(96547);function u(e){var t;let{onClose:n,server:u}=e,m=(0,o.A)(),f=(0,s.mV)(),{activeOrganization:v}=(0,s.YL)(),{addError:h}=(0,r.Y)(),g=u.name,{mutate:p,isPending:x}=(0,c.ll)((null==v?void 0:v.uuid)||"",null!=(t=u.uuid)?t:"",{onSuccess:n,onError:e=>{h(m.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e,messageForLogging:"Failed to disconnect server"})}});return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:f?m.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:g}):m.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:g}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:g}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:g}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:g}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,a.jsxs)(l.vW,{layout:"right",children:[(0,a.jsx)(i.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(d.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(i.$,{loading:x,onClick:()=>p(),variant:"danger",children:(0,a.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}}}]);