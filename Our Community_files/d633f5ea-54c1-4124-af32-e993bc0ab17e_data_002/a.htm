<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script src="a_data/html-to-image.min.js" integrity="sha512-iZ2ORl595Wx6miw+GuadDet4WQbdSWS3JLMoNfY8cRGoEFy6oT3G9IbcrBeL6AfkgpA51ETt/faX6yLV+/gFJg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      (function() {
        const originalConsole = window.console;
        window.console = {
          log: (...args) => {
            originalConsole.log(...args);
            window.parent.postMessage({ type: 'console', message: args.join(' ') }, '*');
          },
          error: (...args) => {
            originalConsole.error(...args);
            window.parent.postMessage({ type: 'console', message: 'Error: ' + args.join(' ') }, '*');
          },
          warn: (...args) => {
            originalConsole.warn(...args);
            window.parent.postMessage({ type: 'console', message: 'Warning: ' + args.join(' ') }, '*');
          }
        };

        let requestId = 0;
        let callbacksMap = new Map();
        let streamControllers = new Map();
        
        window.claude = {
          complete: (prompt) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'claudeComplete', id, prompt }, '*');
            });
          }
        };

        window.storage = {
          get: (key, shared = false) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'storageGet', id, key, shared }, '*');
            });
          },
          set: (key, value, shared = false) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'storageSet', id, key, value, shared }, '*');
            });
          },
          delete: (key, shared = false) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'storageDelete', id, key, shared }, '*');
            });
          },
          list: (prefix, shared = false) => {
            return new Promise((resolve, reject) => {
              const id = requestId++;
              callbacksMap.set(id, { resolve, reject });
              window.parent.postMessage({ type: 'storageList', id, prefix, shared }, '*');
            });
          }
        };

        let pendingBlobs = new Map();
        URL.createObjectURL = (blob) => {
          // Store the blob and create an ID and URL for it
          const blobId = `blob-${Date.now()}-${Math.random()}`;
          pendingBlobs.set(blobId, blob);
          return `blob-request://${blobId}`;
        };

        URL.revokeObjectURL = (url) => {
          // Remove the blob from our store
          const blobId = url.replace("blob-request://", "");
          pendingBlobs.delete(blobId);
        };

        const getBlobFromURL = (url) => {
          const blobId = url.replace("blob-request://", "");
          return pendingBlobs.get(blobId);
        };

        // Override global fetch with streaming support
        window.fetch = (url, init = {}) => {
          return new Promise((resolve, reject) => {
            const id = requestId++;
            const channelId = `fetch-${id}-${Date.now()}`;
            
            callbacksMap.set(id, { 
              resolve: (response) => {
                // Create a ReadableStream for the response body
                const stream = new ReadableStream({
                  start(controller) {
                    streamControllers.set(channelId, controller);
                  },
                  cancel() {
                    streamControllers.delete(channelId);
                  }
                });
                
                // Create and return the Response with the stream
                resolve(new Response(stream, {
                  status: response.status,
                  statusText: response.statusText,
                  headers: response.headers
                }));
              },
              reject,
              channelId
            });
            
            window.parent.postMessage({
              type: 'proxyFetch',
              id,
              url,
              init,
              channelId
            }, '*');
          });
        };

        window.addEventListener('message', async (event) => {
          if (event.data.type === 'takeScreenshot') {
            const rootElement = document.getElementById('artifacts-component-root-html');
            if (!rootElement) {
              window.parent.postMessage({
                type: 'screenshotError',
                error: new Error('Root element not found'),
              }, '*');
            }
            const screenshot = await htmlToImage.toPng(rootElement, {
              imagePlaceholder:
                "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjePDgwX8ACOQDoNsk0PMAAAAASUVORK5CYII=",
            });
            window.parent.postMessage({
              type: 'screenshotData',
              data: screenshot,
            }, '*');
          } else if (event.data.type === 'claudeComplete') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.completion);
            }
            callbacksMap.delete(event.data.id);
          } else if (event.data.type === 'proxyFetchResponse') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
              callbacksMap.delete(event.data.id);
            } else {
              // Initial response with headers, status, etc.
              callback.resolve({
                status: event.data.status,
                statusText: event.data.statusText,
                headers: event.data.headers
              });
              // Don't delete the callback yet if streaming
              if (!event.data.body) {
                callbacksMap.delete(event.data.id);
              }
            }
          } else if (event.data.type === 'proxyFetchStream') {
            // Handle streaming data chunks
            const controller = streamControllers.get(event.data.channelId);
            if (controller) {
              if (event.data.error) {
                controller.error(new Error(event.data.error));
                streamControllers.delete(event.data.channelId);
              } else if (event.data.done) {
                controller.close();
                streamControllers.delete(event.data.channelId);
                // Clean up the callback
                const callback = Array.from(callbacksMap.entries()).find(
                  ([_, value]) => value.channelId === event.data.channelId
                );
                if (callback) {
                  callbacksMap.delete(callback[0]);
                }
              } else if (event.data.chunk) {
                controller.enqueue(new Uint8Array(event.data.chunk));
              }
            }
          } else if (event.data.type === 'storageGet') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.result);
            }
            callbacksMap.delete(event.data.id);
          } else if (event.data.type === 'storageSet') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.result);
            }
            callbacksMap.delete(event.data.id);
          } else if (event.data.type === 'storageDelete') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.result);
            }
            callbacksMap.delete(event.data.id);
          } else if (event.data.type === 'storageList') {
            const callback = callbacksMap.get(event.data.id);
            if (event.data.error) {
              callback.reject(new Error(event.data.error));
            } else {
              callback.resolve(event.data.result);
            }
            callbacksMap.delete(event.data.id);
          }
        });

        window.addEventListener('click', (event) => {
          const isEl = event.target instanceof HTMLElement;
          if (!isEl) return;
    
          // find ancestor links
          const linkEl = event.target.closest("a");
          if (!linkEl || !linkEl.href) return;
    
          event.preventDefault();
          event.stopImmediatePropagation();
    
          if (linkEl.href.startsWith("blob-request:")) {
            const blob = getBlobFromURL(linkEl.href);
            if (!blob) return;
            void blob.arrayBuffer().then((data) => {
              window.parent.postMessage({
                type: "downloadFile",
                filename: linkEl.download,
                data,
                mimeType: blob.type || "application/octet-stream",
              });
            });
          } else if (linkEl.href.startsWith("data:")) {
            const [header, base64Data] = linkEl.href.split(",");
            const mimeMatch = header.match(/data:([^;]+)/);
            const mimeType = mimeMatch ? mimeMatch[1] : "application/octet-stream";
            const binaryString = atob(base64Data);
            const data = Uint8Array.from(binaryString, (c) =>
              c.charCodeAt(0),
            ).buffer;
            window.parent.postMessage({
              type: "downloadFile",
              filename: linkEl.download,
              data,
              mimeType,
            });
          } else {
            let linkUrl;
            try {
              linkUrl = new URL(linkEl.href);
            } catch (error) {
              return;
            }
    
            if (linkUrl.hostname === window.location.hostname) return;
      
            window.parent.postMessage({
              type: 'openExternal',
              href: linkEl.href,
            }, '*');
          }
      });

        const originalOpen = window.open;
        window.open = function (url) {
          window.parent.postMessage({
            type: "openExternal",
            href: url,
          }, "*");
        };

        window.addEventListener('error', (event) => {
          window.parent.postMessage({ type: 'console', message: 'Uncaught Error: ' + event.message }, '*');
        });
      })();
    </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Community - Coastal Community of St. John of the Cross</title>
  <link href="a_data/css2.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Crimson Pro', serif;
      background-color: #f5f0e9;
      color: #4a3838;
      line-height: 1.7;
      font-size: 1.1rem;
    }
    header {
      background-color: #5b3a2e;
      color: #fff;
      text-align: center;
      padding: 2rem 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      letter-spacing: 1px;
    }
    header p {
      margin: 0.5rem 0 0;
      font-size: 1.1rem;
      font-style: italic;
      opacity: 0.9;
    }
    nav {
      background-color: #e5d3c0;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      padding: 0.8rem 1rem;
      gap: 1.5rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    nav a {
      text-decoration: none;
      color: #3b2f2f;
      font-weight: 600;
      transition: all 0.2s ease;
      padding-bottom: 2px;
      border-bottom: 2px solid transparent;
    }
    nav a:hover, nav a.active {
      color: #7b3f00;
      border-bottom: 2px solid #7b3f00;
    }
    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }
    .page-title {
      text-align: center;
      margin: 3rem 0;
    }
    .page-title h1 {
      font-size: 2.5rem;
      color: #4a3028;
      margin-bottom: 1rem;
    }
    .page-title p {
      font-size: 1.2rem;
      color: #5b3a2e;
      font-style: italic;
    }
    section {
      margin-bottom: 4rem;
    }
    h2 {
      font-size: 1.8rem;
      color: #4a3028;
      border-bottom: 2px solid #c9b8a8;
      padding-bottom: 0.4rem;
      margin-bottom: 1.5rem;
    }
    h3 {
      font-size: 1.3rem;
      color: #5b3a2e;
      margin-top: 2rem;
    }
    .info-box {
      background-color: #e5d3c0;
      padding: 1.5rem;
      border-radius: 8px;
      margin: 2rem 0;
    }
    .info-box h3 {
      margin-top: 0;
      color: #4a3028;
    }
    .info-box strong {
      color: #7b3f00;
    }
    .highlight-box {
      background-color: #ede4d6;
      padding: 1.5rem;
      border-left: 5px solid #7b3f00;
      margin: 2rem 0;
      border-radius: 0 5px 5px 0;
    }
    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }
    .column-box {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .column-box h3 {
      margin-top: 0;
      color: #7b3f00;
    }
    ul {
      line-height: 2;
    }
    footer {
      background-color: #5b3a2e;
      color: #fff;
      text-align: center;
      padding: 1.5rem;
      font-size: 0.95rem;
      margin-top: 4rem;
    }
    footer a {
      color: #f1e8d5;
      text-decoration: none;
      transition: color 0.2s ease;
    }
    footer a:hover {
      text-decoration: underline;
      color: #fff;
    }
    @media (max-width: 768px) {
      .two-column {
        grid-template-columns: 1fr;
      }
      .page-title h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body id="artifacts-component-root-html">
  <header>
    <h1>Coastal Community of St. John of the Cross</h1>
    <p>A Third Order Carmelite Community • Rooted in prayer, simplicity, and union with God</p>
  </header>

  <nav>
    <a href="https://www.claudeusercontent.com/artifact/index.html">Home</a>
    <a href="https://www.claudeusercontent.com/artifact/saints.html">Our Saints</a>
    <a href="https://www.claudeusercontent.com/artifact/community.html" class="active">Our Community</a>
    <a href="https://www.claudeusercontent.com/artifact/formation.html">Formation</a>
    <a href="https://www.claudeusercontent.com/artifact/resources.html">Resources</a>
    <a href="https://www.claudeusercontent.com/artifact/contact.html">Contact</a>
  </nav>

  <main>
    <div class="page-title">
      <h1>Our Community</h1>
      <p>Living the Carmelite charism in the world</p>
    </div>

    <section>
      <h2>Who We Are</h2>
      <p>The Coastal Community of St. John of the Cross is a lay 
Carmelite community affiliated with the Secular Order of Discalced 
Carmelites (OCDS). We are men and women from diverse backgrounds and 
vocations—married and single, young and old, working professionals and 
retirees—united by a common call to contemplative prayer and the 
Carmelite way of life.</p>
      <p>We live "in the world" but seek to cultivate interior silence, 
detachment, and union with God in the midst of our daily 
responsibilities. Our community provides formation, spiritual support, 
and fraternal fellowship as we journey together toward deeper intimacy 
with Christ.</p>
    </section>

    <section>
      <h2>Our Carmelite Heritage</h2>
      <p>The Carmelite Order traces its origins to Mount Carmel in the 
Holy Land during the 12th century, where hermits gathered to live lives 
of prayer, silence, and devotion to God. Inspired by the prophet Elijah 
and guided by the patronage of Our Lady, these early hermits sought to 
"live in allegiance to Jesus Christ" through contemplative prayer.</p>
      <p>In the 16th century, St. Teresa of Ávila and St. John of the 
Cross reformed the Order, emphasizing radical poverty, interior prayer, 
and mystical union with God. This reform—the Discalced Carmelites—gave 
birth to a profound spiritual tradition that continues to guide souls 
today.</p>
      <p>The Third Order, now known as the Secular Order of Discalced 
Carmelites (OCDS), allows lay people to participate in this rich 
tradition while living their vocations in the world.</p>
    </section>

    <section>
      <h2>Community Life</h2>
      
      <div class="info-box">
        <h3>Monthly Gatherings</h3>
        <p><strong>When:</strong> 4th Friday of each month<br>
        <strong>Time:</strong> 7:00 PM - 9:00 PM<br>
        <strong>Where:</strong> [Location - please contact us for details]</p>
        <p>Our monthly meetings include communal prayer, formation 
talks, Lectio Divina, and fraternal sharing. All inquirers are welcome 
to attend and discern their call to Carmelite life.</p>
      </div>

      <h3>What We Do Together</h3>
      <div class="two-column">
        <div class="column-box">
          <h3>Prayer &amp; Formation</h3>
          <ul>
            <li>Liturgy of the Hours (communal prayer)</li>
            <li>Lectio Divina and Scripture study</li>
            <li>Formation in Carmelite spirituality</li>
            <li>Study of the writings of Carmelite saints</li>
            <li>Spiritual direction and accompaniment</li>
          </ul>
        </div>
        <div class="column-box">
          <h3>Community &amp; Service</h3>
          <ul>
            <li>Fraternal sharing and mutual support</li>
            <li>Community celebrations and retreats</li>
            <li>Service projects and outreach</li>
            <li>Prayer for the Church and world</li>
            <li>Spiritual friendship and encouragement</li>
          </ul>
        </div>
      </div>
    </section>

    <section>
      <h2>The Carmelite Rule of Life</h2>
      <p>As members of the OCDS, we commit to living according to the Carmelite Rule, which includes:</p>
      
      <div class="highlight-box">
        <h3>Daily Prayer</h3>
        <p>Members commit to at least 30 minutes of mental prayer each 
day, seeking to cultivate an interior life of silence and contemplation.
 We also pray portions of the Liturgy of the Hours and dedicate time to 
spiritual reading.</p>
      </div>

      <div class="highlight-box">
        <h3>Simple Living</h3>
        <p>Following the spirit of poverty and detachment, we seek to 
live simply, valuing what is essential and letting go of excessive 
attachment to material goods, comfort, and worldly pursuits.</p>
      </div>

      <div class="highlight-box">
        <h3>Fraternal Charity</h3>
        <p>We support one another in prayer and friendship, building a 
community that reflects Christ's love. This includes regular attendance 
at monthly meetings and maintaining bonds of fraternal charity.</p>
      </div>

      <div class="highlight-box">
        <h3>Service to the Church</h3>
        <p>Carmelites are called to serve the Church through prayer, 
witness, and charitable works. We offer our lives as a hidden sacrifice 
of prayer for priests, missionaries, and the needs of the world.</p>
      </div>
    </section>

    <section>
      <h2>Leadership &amp; Spiritual Direction</h2>
      <p>Our community is guided by a Council composed of elected 
members and a spiritual assistant (usually a Discalced Carmelite friar 
or priest). The Council provides leadership, coordinates formation, and 
ensures the community remains faithful to the Carmelite charism.</p>
      <p>Each member is encouraged to have a regular spiritual director 
who can guide them in their personal journey of prayer and growth in 
holiness.</p>
    </section>

    <section>
      <h2>Join Us</h2>
      <p>If you feel drawn to the contemplative life and the Carmelite 
tradition, we invite you to visit our community. Whether you are simply 
exploring or seriously discerning a call to Carmelite life, you are 
welcome to attend our monthly gatherings and learn more about this 
beautiful way of life.</p>
      <p>For more information about visiting or beginning the formation process, please <a href="https://www.claudeusercontent.com/artifact/contact.html" style="color: #7b3f00; font-weight: 600;">contact us</a>.</p>
    </section>
  </main>

  <footer>
    © 2025 Coastal Community of St. John of the Cross | <a href="mailto:contact@coastalcommunityofstjohnofthecross.org">Email Us</a> | <a href="#">Privacy Policy</a>
  </footer>

</body></html>