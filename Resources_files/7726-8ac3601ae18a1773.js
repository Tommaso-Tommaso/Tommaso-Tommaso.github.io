"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7726],{3971:(e,t,n)=>{function o(e){return"text"===e.type&&e.text?{...e,text:e.text.replace("​","")}:e.content?{...e,content:e.content.map(o)}:e}n.d(t,{DV:()=>o,Oe:()=>a,h0:()=>r});let a=e=>{let t=new Set,n=e=>{if("codeBlock"===e.type&&t.add("pre"),"bulletList"===e.type&&t.add("ul"),"orderedList"===e.type&&t.add("ol"),"text"===e.type&&e.marks)for(let n of e.marks)t.add(n.type);if(e.content)for(let t of e.content)n(t)};return n(e),Array.from(t).map(e=>"".concat(":").concat(e)).sort().join("")},r=e=>{let t="",n=0,o=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("doc"===e.type&&e.content)for(let t of e.content)o(t);else if("paragraph"===e.type){if(e.content)for(let t of e.content)o(t);t+="\n"}else if("text"===e.type){let n=e.text;if(e.marks)for(let t of e.marks)"bold"===t.type?n="**".concat(n,"**"):"italic"===t.type?n="*".concat(n,"*"):"underline"===t.type?n="__".concat(n,"__"):"strike"===t.type?n="~~".concat(n,"~~"):"code"===t.type&&(n="`".concat(n,"`"));t+=n}else if("codeBlock"===e.type){let n=e.attrs&&"string"==typeof e.attrs.language?e.attrs.language:"";if(t+="\n```".concat(n,"\n"),e.content)for(let t of e.content)o(t);t+="\n```\n\n"}else if("bulletList"===e.type&&e.content)for(let t of e.content)o(t);else if("orderedList"===e.type&&e.content)for(let t=0;t<e.content.length;t++)o(e.content[t],t+1,!0);else if("listItem"===e.type&&e.content){let i="   ".repeat(n);for(let l of(r?t+="".concat(i).concat(a,". "):t+="".concat(i,"* "),e.content))n+=1,o(l),n-=1}};return o(e),t.replace("​","").trim()}},10665:(e,t,n)=>{n.d(t,{IS:()=>m,rX:()=>v,vP:()=>g,yu:()=>y});var o=n(94295),a=n(19736),r=n(34003),i=n(74813),l=n(64328),s=n(68067),u=n(95617),c=n(7620),d=n(45538),p=n(88775);let f=e=>{let t=(0,s.fS)("claudeai_paprika_sticky"),n=(0,s.fS)("claude_ai_sticky_project_settings"),o=["enabled_web_search","enabled_bananagrams","enabled_sourdough","enabled_foccacia","enabled_mcp_tools"];return(t||e&&n)&&o.push("paprika_mode"),e&&n&&o.push("compass_mode"),o},g=e=>{let t=(0,p.jw)(),{pendingConversationSettings:n}=(0,p.Fj)(),{account:o}=(0,l.YL)(),a=(0,p.QN)(),{data:i}=(0,d.xQ)(a),u=(0,s.fS)("claude_ai_sticky_project_settings"),c=f(!!a);if((0,r.u9)(),t){var g;return null==(g=t.conversationSettings)?void 0:g[e]}return c.includes(e)?a&&u&&i?i[e]:null==o?void 0:o.settings[e]:null==n?void 0:n[e]},m=()=>{let e=(0,p.jw)(),{setPendingConversationSettings:t}=(0,p.Fj)(),n=(0,p.QN)(),{account:r}=(0,l.YL)(),i=f(!!n),{mutate:g}=(0,o.yJ)(),{mutate:m}=(0,a.HF)(null==e?void 0:e.id),{data:v}=(0,d.xQ)(n),{mutate:y}=(0,d.mu)(n),S=(0,s.fS)("claude_ai_sticky_project_settings");return{updateSettings:(0,c.useCallback)(o=>{let{conversationSettingsUpdate:a={},mcpToolsUpdate:l={}}=o;if(!r||0===Object.keys(a).length&&0===Object.keys(l).length)return;let s={...a},c={};if(Object.keys(s).forEach(n=>{let o=s[n];i.includes(n)?Object.assign(c,{[n]:o}):u.W$.includes(n)&&!e&&t({[n]:o})}),Object.keys(l).length>0){if(e){var d;s.enabled_mcp_tools={...null==(d=e.conversationSettings)?void 0:d.enabled_mcp_tools,...l}}c.enabled_mcp_tools={...n&&S?null==v?void 0:v.enabled_mcp_tools:r.settings.enabled_mcp_tools,...l}}e&&m({settings:s}),Object.keys(c).length>0&&(n&&S?y({...v,...c}):g(c))},[r,e,m,n,S,v,y,g,i,t])}},v=e=>{let t=(0,p.jw)(),{account:n}=(0,l.YL)(),{track:o}=(0,i.st)(),{updateSettings:a}=m(),r=(0,c.useCallback)(r=>{n&&(a({conversationSettingsUpdate:r}),Object.keys(r).forEach(n=>{let a=r[n];o({event_key:"claudeai.conversation.setting.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:n,value:a,source:null==e?void 0:e.source})}))},[n,t,a,o,null==e?void 0:e.source]);return{toggleConversationSetting:(0,c.useCallback)((e,t)=>{r({[e]:t})},[r]),batchToggleConversationSettings:r}},y=e=>{let t=(0,p.jw)(),{account:n}=(0,l.YL)(),{updateSettings:o}=m(),{track:a}=(0,i.st)();return{batchToggleConversationSettingsAndMCPTools:(0,c.useCallback)(r=>{let{conversationSettingsUpdate:i,mcpToolsUpdate:l}=r;n&&(o({conversationSettingsUpdate:i,mcpToolsUpdate:l}),i&&Object.keys(i).forEach(n=>{let o=i[n];a({event_key:"claudeai.conversation.setting.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:n,value:o,source:null==e?void 0:e.source})}),l&&Object.entries(l).forEach(n=>{let[o,r]=n;a({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:o,value:r,url:void 0,source:null==e?void 0:e.source})}))},[n,t,o,a,null==e?void 0:e.source])}}},13296:(e,t,n)=>{n.d(t,{ul:()=>i});let o={};class a{clear(){}getItem(e){return null}key(e){return null}removeItem(e){}setItem(e,t){}constructor(){this.length=0}}let r=new a,i=()=>(()=>{if(!window.localStorage)return!1;if(void 0===o.localStorageSupported){let e=!!("localStorage"in window&&window.localStorage);if(e)try{localStorage.setItem("test.localStorageSupported","true")}catch(t){e=!1}o.localStorageSupported=e}return o.localStorageSupported})()?window.localStorage:r},24443:(e,t,n)=>{n.d(t,{Ah:()=>E,BV:()=>N,DO:()=>C,I_:()=>x,L1:()=>w,Mf:()=>U,P2:()=>Y,PB:()=>T,Rb:()=>z,SK:()=>j,Sb:()=>b,UG:()=>L,Uq:()=>v,bb:()=>y,ey:()=>I,kY:()=>S,lH:()=>M,mM:()=>k,t5:()=>A,tW:()=>h,xt:()=>O});var o=n(94295),a=n(74813),r=n(1613),i=n(64328),l=n(35984),s=n(80688),u=n(68067),c=n(4869),d=n(7620),p=n(10369),f=n(24407),g=n(94028),m=n(13644);let v="https://support.anthropic.com/articles/11817273-how-does-claude-s-memory-work",y="https://privacy.anthropic.com/en/articles/10023580-is-my-data-used-for-model-training",S="https://support.anthropic.com/en/articles/11817273-using-claude-s-chat-search-and-memory-to-build-on-previous-context#h_4e397dd299",_=f.z.object({memory:f.z.string(),controls:f.z.array(f.z.string()).nullable(),updated_at:f.z.string().datetime({offset:!0}).nullable()}),h=(e,t)=>{var n;let{account:o,activeOrganization:a}=(0,i.YL)(),l=null==o?void 0:o.uuid,u=null==a?void 0:a.uuid,c=U(),d=e?"/api/organizations/".concat(u,"/memory?project_uuid=").concat(e):"/api/organizations/".concat(u,"/memory");return(0,r.Sk)(d,{queryKey:[s.IX,{accountUuid:l,orgUuid:u,projectUuid:e}],enabled:!!a&&(null==(n=null==t?void 0:t.enabled)||n)&&c},e=>_.parse(e))},b=()=>{let{account:e,activeOrganization:t}=(0,i.YL)(),n=null==e?void 0:e.uuid,o=null==t?void 0:t.uuid,a=U(),{addError:u}=(0,l.Y)(),d=(0,p.A)(),f=(0,c.useQueryClient)(),{mutate:g,isPending:m}=(0,r.L2)("/api/organizations/".concat(o,"/memory/synthesize"),"POST",{enabled:!!t&&a,onSuccess:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[r,i]=t;f.invalidateQueries({queryKey:[s.IX,{accountUuid:n,orgUuid:o,projectUuid:i.project_uuid}]})},onError:()=>{u(d.formatMessage({defaultMessage:"Something went wrong while updating memory",id:"P1AER5mU4P"}),{messageForLogging:"Something went wrong while updating memory"})}});return{resynthesizeMemory:g,isResynthesizingMemory:m}},I=()=>{let e=(0,a.st)(),{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,o=U(),{addError:u}=(0,l.Y)(),d=(0,p.A)(),f=(0,c.useQueryClient)(),{mutate:g,isPending:m}=(0,r.L2)("/api/organizations/".concat(n,"/memory/reset"),"POST",{enabled:!!t&&o,onSuccess:()=>{f.invalidateQueries({queryKey:[s.IX]}),e.track({event_key:"claudeai.memory.memory_reset"})},onError:()=>{u(d.formatMessage({defaultMessage:"Something went wrong while resetting memory",id:"1U/+Klpk5D"}),{messageForLogging:"Something went wrong while resetting memory"})}});return{resetMemory:g,isResettingMemory:m}},k=function(){let{projectUuid:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.st)(),{account:n,activeOrganization:o}=(0,i.YL)(),u=null==n?void 0:n.uuid,d=null==o?void 0:o.uuid,f=U(),{addError:g,addSuccess:m}=(0,l.Y)(),v=(0,p.A)(),y=(0,c.useQueryClient)(),{mutate:S,isPending:_}=(0,r.Qv)("/api/organizations/".concat(d,"/memory/controls"),"PUT",(e,t)=>{var n;return{memory:null!=(n=null==t?void 0:t.memory)?n:"",controls:e.controls,updated_at:null==t?void 0:t.updated_at}},{queryKey:[s.IX,{accountUuid:u,orgUuid:d,projectUuid:e}],enabled:!!o&&f,onSuccess:()=>{m(v.formatMessage({defaultMessage:"Memory updated",id:"YqVBaoALVh"})),y.invalidateQueries({queryKey:[s.IX,{accountUuid:u,orgUuid:d,projectUuid:e}]}),t.track({event_key:"claudeai.memory.edit_memory",projectUuid:e})},onError:e=>{g(v.formatMessage({defaultMessage:"Something went wrong while updating memory",id:"P1AER5mU4P"}),{error:e,messageForLogging:"Something went wrong while updating memory"})}});return{updateMemoryControls:S,updateMemoryControlsIsPending:_}},P=()=>(0,u.fS)("claudeai_saffron_themes_enabled"),w=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=P(),o=t?"/api/organizations/".concat(t,"/memory/themes"):null;return(0,r.Sk)(o,{staleTime:3e5,enabled:!!t&&!!o&&n})},U=()=>(0,u.fS)("claudeai_saffron_enabled"),C=()=>{let e=(0,u.fS)("claudeai_saffron_admin_toggle_enabled"),t=U();return e&&!t},L=()=>{let e=P(),t=j();return e&&!!t},T=()=>{var e;let t=(0,i.mV)(),{data:n}=(0,m.rX)(),o=!!n&&!(null==(e=n.disabled_features)?void 0:e.includes("saffron"));return!t||o},j=()=>{var e;let t=T(),{account:n}=(0,i.YL)(),o=(0,u.fS)("claudeai_saffron_default_enabled");return!!t&&(null!=(e=null==n?void 0:n.settings.enabled_saffron)?e:o||void 0)},M=()=>{let e=(0,a.st)(),{mutate:t}=(0,o.yJ)(),{resetMemory:n}=I();return(o,a)=>{t({enabled_saffron:o}),(null==a?void 0:a.shouldResetMemory)&&n(),e.track({event_key:"claudeai.memory.account_setting_toggled",enabled:o,reset_memory:!!(null==a?void 0:a.shouldResetMemory)})}},E=()=>(0,u.fS)("claudeai_saffron_search_enabled"),O=()=>{let e=(0,a.st)(),{account:t}=(0,i.YL)(),n=(()=>{var e;let{account:t}=(0,i.YL)(),n=(0,u.fS)("claudeai_saffron_search_default_enabled");return null!=(e=null==t?void 0:t.settings.enabled_saffron_search)?e:n})(),r=E(),{mutate:l}=(0,o.yJ)(),{mutate:s}=(0,g.nI)(),c=(0,d.useRef)(null==t?void 0:t.settings);return(0,d.useEffect)(()=>{c.current=null==t?void 0:t.settings},[null==t?void 0:t.settings]),{toggleSaffronSearch:(0,d.useCallback)(t=>{l({enabled_saffron_search:t}),r&&t&&s({}),e.track({event_key:"claudeai.conversation_search.account_setting_toggled",enabled:t})},[l,s,r,e]),saffronSearchEnabled:n}},x=()=>(0,u.fS)("claudeai_saffron_ghost_enabled"),A=()=>(0,u.T9)("claudeai_saffron_frontend","resynthesize_enabled",!1,u.Km),z=()=>(0,u.T9)("claudeai_saffron_frontend","max_num_controls",10,u.T2),N=()=>(0,u.T9)("claudeai_saffron_frontend","max_control_chars",100,u.T2),Y=()=>{let e=(0,p.A)(),t=(0,u.fS)("claude_grove_enabled"),n=j();return t&&n?e.formatMessage({defaultMessage:"Incognito chats aren’t saved, added to memory, or used to train models.",id:"7vPniYndmQ"}):t?e.formatMessage({defaultMessage:"Incognito chats aren’t saved to history or used to train models.",id:"ePzoyDXPHe"}):n?e.formatMessage({defaultMessage:"Incognito chats aren’t saved or added to memory.",id:"SOrtx8O6Rq"}):e.formatMessage({defaultMessage:"Incognito chats aren’t saved to history.",id:"8EiWE4PL22"})}},54667:(e,t,n)=>{n.d(t,{E:()=>c});var o=n(50848),a=n(49359),r=n(3971),i=n(92693);let l={type:"doc",content:[{type:"paragraph",content:[]}]};var s=n(43906),u=n.n(s);let c=e=>{let{conversationId:t="default",enableV2:n=!1,storage:s}=e,c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...((e,t)=>({tipTapEditorState:l,getPrompt:()=>(0,r.h0)(t().tipTapEditorState),setPrompt:function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{forceUpdateTiptap:a=!1,unsafe:r=!1}=o,l=(0,i.P)(n),s={type:"doc",content:[{type:"paragraph",content:l?[{type:"text",text:l}]:[]}]};if(l.length>0&&r&&(s.__ant_unsafe=!0),e({tipTapEditorState:s}),a){var u,c;null==(c=t().promptInputRef)||null==(u=c.current)||u.setContent(l)}return l},setTipTapEditorJSON:n=>{let o=!0===t().tipTapEditorState.__ant_unsafe,a=(0,r.h0)(n);return a.length>0&&o&&(n.__ant_unsafe=!0),e({tipTapEditorState:n}),a},clearPrompt:()=>{e({tipTapEditorState:l})},clearAllInput:()=>{e({tipTapEditorState:l,attachments:[],files:[],syncSourceUuids:[]})}}))(...t),...((e,t)=>({attachments:[],files:[],syncSourceUuids:[],transitionFiles:[],setAttachments:n=>{e({attachments:"function"==typeof n?n(t().attachments):n})},setFiles:n=>{e({files:"function"==typeof n?n(t().files):n})},setSyncSourceUuids:n=>{e({syncSourceUuids:"function"==typeof n?n(t().syncSourceUuids):n})},setTransitionFiles:t=>{e({transitionFiles:t})}}))(...t),...(e=>({model:"",projectUuid:void 0,pendingConversationSettings:{},conversation:void 0,setModel:t=>e({model:t}),setProjectUuid:t=>e({projectUuid:t}),setPendingConversationSettings:t=>e(e=>({pendingConversationSettings:{...e.pendingConversationSettings,...t}})),setConversation:t=>e({conversation:t})}))(...t),...(e=>({previewPrompt:void 0,isModelSelectorOpen:!1,hasBlockingWarning:!1,personalizedStyle:void 0,includeProfilePreferences:!0,currentCompassTask:void 0,setPreviewPrompt:t=>e({previewPrompt:t}),setIsModelSelectorOpen:t=>e({isModelSelectorOpen:t}),setHasBlockingWarning:t=>e({hasBlockingWarning:t}),setPersonalizedStyle:t=>e({personalizedStyle:t}),setIncludeProfilePreferences:t=>e({includeProfilePreferences:t}),setCurrentCompassTask:t=>e({currentCompassTask:t})}))(...t),...(e=>({isUploadingFile:!1,isUploadingDriveSync:!1,isUploadingGithubSync:!1,setIsUploadingFile:t=>e({isUploadingFile:t}),setIsUploadingDriveSync:t=>e({isUploadingDriveSync:t}),setIsUploadingGithubSync:t=>e({isUploadingGithubSync:t})}))(...t),...(e=>({isSending:!1,isImprovingPrompt:!1,setIsSending:t=>e({isSending:t}),setIsImprovingPrompt:t=>e({isImprovingPrompt:t})}))(...t),...(()=>({isAtMaxNumUploads:!1,hasAttachments:!1,isChatSyncing:!1,isProjectSyncing:!1,isNewConversation:!1,isProjectLocked:!1,willRedirectOnSubmit:!1}))(...t),...(()=>({sendMessage:void 0,sendTransparentMessage:void 0,stopSampling:void 0,focusInput:void 0,improvePrompt:void 0,validateMaxUploadLimit:void 0,onDrop:void 0,onPasteFiles:void 0,handleUpload:void 0,uploadInputProps:void 0}))(...t),...(e=>({promptInputRef:void 0,setPromptInputRef:t=>e({promptInputRef:t})}))(...t)}};if(n){let e=function(e){var t,n,o;let a=null!=(o=null==(t=(n=crypto).randomUUID)?void 0:t.call(n))?o:"v2-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),r=u()((t,n)=>{let o=n.state,r=Date.now();if(void 0!==o.tipTapEditorState){let n={value:o.tipTapEditorState||{},tabId:a,timestamp:r};e.setItem("LSS-".concat(t,":textInput"),JSON.stringify(n))}if(void 0!==o.attachments){let n={value:o.attachments||[],tabId:a,timestamp:r};e.setItem("LSS-".concat(t,":attachment"),JSON.stringify(n))}if(void 0!==o.files){let n={value:o.files||[],tabId:a,timestamp:r};e.setItem("LSS-".concat(t,":files"),JSON.stringify(n))}if(void 0!==o.syncSourceUuids){let n={value:o.syncSourceUuids||[],tabId:a,timestamp:r};e.setItem("LSS-".concat(t,":syncSourceUuids"),JSON.stringify(n))}},500,{maxWait:2e3});return{getItem:t=>{try{let n={},o=e.getItem("LSS-".concat(t,":textInput"));if(o){let e=JSON.parse(o);e.value&&"object"==typeof e.value&&"type"in e.value&&(n.tipTapEditorState=e.value)}let a=e.getItem("LSS-".concat(t,":attachment"));if(a){let e=JSON.parse(a);Array.isArray(e.value)&&(n.attachments=e.value)}let r=e.getItem("LSS-".concat(t,":files"));if(r){let e=JSON.parse(r);Array.isArray(e.value)&&(n.files=e.value)}let i=e.getItem("LSS-".concat(t,":syncSourceUuids"));if(i){let e=JSON.parse(i);Array.isArray(e.value)&&(n.syncSourceUuids=e.value)}if(Object.keys(n).length>0)return{state:n,version:0};return null}catch(e){return null}},setItem:(e,t)=>{r(e,t)},removeItem:t=>{r.cancel(),e.removeItem("LSS-".concat(t,":textInput")),e.removeItem("LSS-".concat(t,":attachment")),e.removeItem("LSS-".concat(t,":files")),e.removeItem("LSS-".concat(t,":syncSourceUuids"))},subscribe:e=>t=>{let n=n=>{if(n.storageArea===localStorage&&n.key&&n.key.startsWith("LSS-".concat(e,":"))&&n.newValue)try{JSON.parse(n.newValue).tabId!==a&&t()}catch(e){t()}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}}}(s),n=(0,a.y)()((0,o.eh)((0,o.Zr)(c,{name:t,storage:e,partialize:e=>({tipTapEditorState:e.tipTapEditorState,attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids})})));return e.subscribe?{store:n,unsubscribe:e.subscribe(t)(()=>{})}:{store:n}}return{store:(0,a.y)()((0,o.eh)(c))}}},79151:(e,t,n)=>{n.d(t,{d:()=>s});var o=n(13296);n(73356);var a=n(56929),r=n(7620),i=n(74813);let l=new Set(["shrew","pipit"]);function s(e){let{track:t}=(0,i.st)(),n=(0,r.useRef)(t);(0,r.useEffect)(()=>{n.current=t},[t]);let s=(0,o.ul)(),u=(0,r.useCallback)((t,o)=>{(0,n.current)({event_key:"claudeai.storage.error",operation:"setItem",source:e,key:t,error_name:o.name}),(0,a.Cp)(o,{tags:{source:e},extra:{key:t,operation:"setItem"},level:"warning"})},[e]);return(0,r.useMemo)(()=>(function(e){let{storage:t,onError:n,shouldThrow:o=()=>!0}=e;return new Proxy(t,{get(e,t,a){if("setItem"===t)return function(t,a){try{e.setItem(t,a)}catch(e){if(n(t,e),o(t,e))throw e}};let r=Reflect.get(e,t,e);return"function"==typeof r?r.bind(e):r}})})({storage:s,onError:u,shouldThrow:()=>!l.has(e)}),[u,e,s])}},86545:(e,t,n)=>{n.d(t,{A9:()=>g,Wq:()=>m,fC:()=>p,qv:()=>v});var o=n(1613),a=n(64328),r=n(80688),i=n(68067),l=n(95617),s=n(66365),u=n(24407);let c={image_in:!0,pdf_in:!1},d=u.z.array(i.xR),p=e=>{let{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,{data:i,isLoading:l,isPlaceholderData:s}=(0,o.Sk)("/api/organizations/".concat(n,"/model_configs/").concat(e),{queryKey:[r.yV,n,e],enabled:!!n,staleTime:3e5,meta:{noToast:!0}});return{isLoading:l,modelConfig:!s&&i||c}},f=[],g=()=>{var e;let t=(0,i.fS)("backend_model_config"),{activeOrganization:n}=(0,a.YL)(),o=(0,a.h0)(),r=(0,i.T9)("claude_ai_models","models",f,l.KQ),s=t?null!=(e=null==n?void 0:n.claude_ai_bootstrap_models_config)?e:f:r,u=(0,i.P0)("claude_ai_free_tier_default","use_obfuscated_model_names",!1,i.Km),c=(0,i.T9)("claude_ai_model_selector_obfuscated_names","models",null,l.KQ.nullable()),d=!o&&u&&c?c:s,p=d.filter(e=>!e.inactive),g=p.filter(e=>!e.overflow),m=p.filter(e=>e.overflow);return{allModelOptions:d,activeModelOptions:p,mainModels:g,overflowModels:m}},m=()=>{let{allModelOptions:e}=g();return(t,n)=>{let o=e.find(e=>e.model===t);if(!o)return!1;let a=null==o?void 0:o.capabilities;return!a||!1!==a[n]}},v=()=>{let e=(0,a.h0)(),t=(0,s.useLayer)("frontend").get("free_tier_available_models",[]),n=(0,i.T9)("claude_ai_free_tier_available_models","models",[],d);return e?[]:t.length>0?t:n}},88775:(e,t,n)=>{n.d(t,{BN:()=>d,EL:()=>I,Fj:()=>S,Jy:()=>p,N3:()=>m,QN:()=>b,QT:()=>g,RK:()=>w,TQ:()=>P,Tc:()=>_,aQ:()=>v,fT:()=>k,jM:()=>f,jw:()=>y,lE:()=>h});var o=n(79151);n(73356);var a=n(7620),r=n(4211),i=n(42469),l=n(54667);let s=a.createContext(null),u=null;function c(e,t){let n=a.useContext(s),c=(0,o.d)("bushy"),d=n||(u||({store:u}=(0,l.E)({storage:c})),u);return(0,r.P)(d,(0,i.k)(e))}function d(){let e=a.useContext(s);if(!e)throw Error("ChatInputStore not found. Make sure ChatInputProvider wraps your component.");return e}function p(e){let t=d();return(0,r.P)(t,(0,i.k)(e))}let f=s.Provider,g=()=>p(e=>(e=>{let t=e.tipTapEditorState;return{prompt:e.getPrompt(),tipTapEditorState:t,isPromptUnsafe:"__ant_unsafe"in t&&!!t.__ant_unsafe}})(e)),m=()=>p(e=>!e.getPrompt().trim()),v=()=>p(e=>!!e.getPrompt().trim()||e.isSending),y=()=>{let e=a.useContext(s),t=c(e=>e.conversation,"useChatInputConversationOnly");return e?t:void 0},S=()=>c(e=>({pendingConversationSettings:e.pendingConversationSettings,setPendingConversationSettings:e.setPendingConversationSettings}),"useChatInputPendingConversationSettings");function _(e,t){return c(e,t)}let h=()=>c(e=>({syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids,projectUuid:e.projectUuid,conversation:e.conversation}),"useChatInputSync"),b=()=>c(e=>e.projectUuid,"useChatInputProjectUuid"),I=()=>c(e=>e.setProjectUuid,"useChatInputSetProjectUuid"),k=()=>c(e=>({isUploadingDrive:e.isUploadingDriveSync,setIsUploadingDriveSync:e.setIsUploadingDriveSync}),"useChatInputUploadDrive"),P=()=>c(e=>({model:e.model,setModel:e.setModel}),"useChatInputModel"),w=()=>c(e=>({personalizedStyle:e.personalizedStyle,setPersonalizedStyle:e.setPersonalizedStyle}),"useChatInputPersonalizedStyle")},91958:(e,t,n)=>{n.d(t,{Ac:()=>r,D8:()=>l,bI:()=>i});let o="recentDriveDocs";function a(e){return"object"==typeof e&&null!==e&&"string"==typeof e.uri&&("string"==typeof e.title||void 0===e.title)}function r(e){localStorage.setItem(o,JSON.stringify(e))}function i(){if("undefined"==typeof localStorage)return[];let e=localStorage.getItem(o);if(e){let t=JSON.parse(e);if(t&&Array.isArray(t)&&t.every(a))return t}return[]}function l(e){let t=i();r(t=t.filter(t=>t.uri!==e))}}}]);